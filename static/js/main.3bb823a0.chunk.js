(this.webpackJsonppointage=this.webpackJsonppointage||[]).push([[0],{19:function(e,t,n){e.exports=n(37)},24:function(e,t,n){},26:function(e,t,n){},33:function(e,t){},34:function(e,t){},35:function(e,t){},37:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),o=n(12),c=n.n(o),i=(n(24),n(3)),s=n.n(i),u=n(7),d=n(13),l=n(14),h=n(17),p=n(15),f=n(18),m=n(16),v=n.n(m),w=(n(26),n(2)),b=(document.getElementById("imageUpload"),function(e){function t(e){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadModels()}},{key:"loadModels",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,w.i.faceRecognitionNet.loadFromUri("/models");case 3:return e.t1=e.sent,e.next=6,w.i.faceLandmark68Net.loadFromUri("/models");case 6:return e.t2=e.sent,e.next=9,w.i.ssdMobilenetv1.loadFromUri("/models");case 9:e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.t5=this.start(),e.t0.all.call(e.t0,e.t4).then(e.t5);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a,r,o,c,i,u=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("div")).style.position="relative",document.body.append(t),e.next=5,this.loadLabeledImages();case 5:n=e.sent,a=new w.a(n,.8),document.body.append("Loaded"),console.log("Started"),r&&r.remove(),o&&o.remove(),c=!0,i=s.a.mark((function e(){var t,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.g(u.refs.video.getScreenshot());case 2:return r=e.sent,o=w.c(r),t={width:r.width,height:r.height},w.h(o,t),e.next=8,w.d(r).withFaceLandmarks().withFaceDescriptors();case 8:n=e.sent,c=w.j(n,t),c.map((function(e){return a.findBestMatch(e.descriptor)})).forEach((function(e,t){var n=c[t].detection.box;new w.f.DrawBox(n,{label:e.toString()}).draw(o),e.distance>.6&&console.log(e.label)}));case 12:case"end":return e.stop()}}),e)}));case 13:if(!c){e.next=17;break}return e.delegateYield(i(),"t0",15);case 15:e.next=13;break;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadLabeledImages",value:function(){return Promise.all(["Black Widow","Captain America","Captain Marvel","Hawkeye","Jim Rhodes","Thor","Tony Stark","Sofiane Khoudour"].map(function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=1;case 2:if(!(a<=1)){e.next=13;break}return e.next=5,w.g("labeled_images/".concat(t,"/").concat(a,".jpg"));case 5:return r=e.sent,e.next=8,w.e(r).withFaceLandmarks().withFaceDescriptor();case 8:o=e.sent,n.push(o.descriptor);case 10:a++,e.next=2;break;case 13:return e.abrupt("return",new w.b(t,n));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v.a,{audio:!1,videoConstraints:{width:640,height:640,facingMode:"user"},ref:"video"}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.3bb823a0.chunk.js.map